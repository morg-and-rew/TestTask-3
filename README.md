# üß≠ TestTask-3 ‚Äî Inventory System for Unity

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ
**TestTask-3** ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –ª–æ–≥–∏–∫–∏ –∏ –≥–∏–±–∫–æ—Å—Ç–∏ –≤ Unity.  
–û–Ω–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç **MVC-–ø–æ–¥—Ö–æ–¥ (Model-View-Controller)** –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–≥—Ä–æ–∫—É —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ:  
–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏.

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5√ó4)  
‚úÖ –ù–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (–æ—Ä—É–∂–∏–µ, –∑–µ–ª—å—è, –∫–≤–µ—Å—Ç-–ø—Ä–µ–¥–º–µ—Ç—ã –∏ —Ç.–¥.)  
‚úÖ –°—Ç–µ–∫—É–µ–º—ã–µ / –Ω–µ —Å—Ç–µ–∫—É–µ–º—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã  
‚úÖ Drag & Drop –º–µ–∂–¥—É —Å–ª–æ—Ç–∞–º–∏  
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (Use) –∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ (Drop) –ø—Ä–µ–¥–º–µ—Ç–æ–≤  
‚úÖ –ü–æ–¥—Å–∫–∞–∑–∫–∞ (Tooltip) –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç  
‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∏–º–µ–Ω–∏, —Ç–∏–ø—É –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é (–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é / —É–±—ã–≤–∞–Ω–∏—é)  
‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è (JSON-—Ñ–∞–π–ª)  
‚úÖ –ì–æ—Ç–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (—á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ ScriptableObject)

---

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### üß† Model (–î–∞–Ω–Ω—ã–µ)
- **InventoryItem** ‚Äî –∫–ª–∞—Å—Å, —Ö—Ä–∞–Ω—è—â–∏–π —Å—Å—ã–ª–∫—É –Ω–∞ `ItemDefinition` –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (`quantity`).  
- **ItemDefinition (ScriptableObject)** ‚Äî —à–∞–±–ª–æ–Ω –ø—Ä–µ–¥–º–µ—Ç–∞ —Å –ø–æ–ª—è–º–∏:
  - `itemName`
  - `description`
  - `icon`
  - `itemType`
  - `isStackable`
  - `maxStack`

### ‚öôÔ∏è Core (–õ–æ–≥–∏–∫–∞)
- **Inventory** ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–ø–∏—Å–∫–æ–º –ø—Ä–µ–¥–º–µ—Ç–æ–≤:
  - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ (`AddItem`, `AddItemDirect`)
  - —É–¥–∞–ª–µ–Ω–∏–µ (`RemoveItemAtSlot`)
  - —Å—Ç–µ–∫–æ–≤–∞–Ω–∏–µ (`TryStackItems`)
  - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ UI (`OnInventoryChanged`)

- **InventorySave** ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫—É:
  - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã –≤ `inventory.json`
  - –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è

### üéÆ Controller
- **InventoryController** ‚Äî –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–µ–∂–¥—É –ª–æ–≥–∏–∫–æ–π –∏ UI.  
  –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–∞:
  - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (`OnUseItem`)
  - –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ (`OnDropItemAtWorld`)
  - –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫—É (`OnSwapOrStack`)
  - –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏–µ `OnInventoryChanged`

### üñºÔ∏è View (UI)
- **InventoryUI** ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≤—Å–µ—Ö —Å–ª–æ—Ç–æ–≤ –∏ –∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º.  
- **InventorySlot** ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ª–æ—Ç:
  - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Drag & Drop  
  - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∫–æ–Ω–∫—É, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ  
  - –∏–º–µ–µ—Ç –∫–Ω–æ–ø–∫–∏ **Use** –∏ **Drop**  
- **InventoryTooltip** ‚Äî –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ).  
- **ItemPreviewUI** ‚Äî –æ—Ç–¥–µ–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–µ–¥–º–µ—Ç–∞.  
- **InventorySortUI** ‚Äî –∫–Ω–æ–ø–∫–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (–ø–æ –∏–º–µ–Ω–∏, –ø–æ —Ç–∏–ø—É, —Å–º–µ–Ω–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è).

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### 1. –û—Ç–∫—Ä–æ–π —Å—Ü–µ–Ω—É
- –û—Ç–∫—Ä–æ–π –ø—Ä–æ–µ–∫—Ç –≤ **Unity 2022.3.62f2**.  
- –ó–∞–≥—Ä—É–∑–∏ —Å—Ü–µ–Ω—É `MainScene.unity`.

### 2. –î–æ–±–∞–≤—å –æ–±—ä–µ–∫—Ç—ã –Ω–∞ —Å—Ü–µ–Ω—É
–ù–∞ —Å—Ü–µ–Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
- `InventoryManager` (—Å—Å—ã–ª–∫–∏ –Ω–∞ `ItemDefinitions`)
- `InventoryController`
- `InventoryUI` (Canvas —Å —Å–µ—Ç–∫–æ–π —Å–ª–æ—Ç–æ–≤)
- `InventoryTooltip` (–ø—Ä–µ—Ñ–∞–± —Å CanvasGroup, TMP Text)
- `ItemPreviewUI` (–æ–∫–Ω–æ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–µ–¥–º–µ—Ç–µ)
- `InventorySortUI` (–ø–∞–Ω–µ–ª—å —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏)

### 3. –ù–∞—Å—Ç—Ä–æ–π —Å–≤—è–∑–∏
- –í **Bootstrap** —É–∫–∞–∂–∏:
  _inventoryManager
  _inventoryController
  _inventoryUI
–í InventoryUI —É–∫–∞–∂–∏ –ø—Ä–µ—Ñ–∞–± —Å–ª–æ—Ç–∞ –∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π Transform –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —è—á–µ–µ–∫.

–í InventoryManager –¥–æ–±–∞–≤—å —Å–ø–∏—Å–æ–∫ ItemDefinition (Health Potion, Sword –∏ —Ç.–¥.)

4. –ù–∞—Å—Ç—Ä–æ–π –ø—Ä–µ–¥–º–µ—Ç—ã
–°–æ–∑–¥–∞–π –≤ Unity:

Assets/InventorySystem/ScriptableObjects/HealthPotion.asset
Health Potion:

–ü–æ–ª–µ	–ó–Ω–∞—á–µ–Ω–∏–µ
Item Name	Health Potion
Description	–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç 50 HP –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.
Item Type	Consumable
Icon	(—Å–ø—Ä–∞–π—Ç –∑–µ–ª—å—è)
Is Stackable	‚úÖ –î–∞
Max Stack	99

5. –ó–∞–ø—É—Å—Ç–∏ —Å—Ü–µ–Ω—É (Play)
–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π –ø—Ä–µ–¥–º–µ—Ç—ã –º–µ–∂–¥—É —Å–ª–æ—Ç–∞–º–∏.

–ù–∞–≤–µ–¥–∏ –∫—É—Ä—Å–æ—Ä ‚Äî –ø–æ—è–≤–∏—Ç—Å—è Tooltip.

–ù–∞–∂–º–∏ Use ‚Äî –ø—Ä–µ–¥–º–µ—Ç –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è.

–ù–∞–∂–º–∏ Drop ‚Äî —Ç–µ—Ä—è–µ—Ç—Å—è 1 —à—Ç—É–∫–∞.

–ù–∞–∂–º–∏ Sort By Name / Sort By Type ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤.

–ù–∞–∂–º–∏ Toggle Order ‚Äî —Å–º–µ–Ω–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.

üíæ –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è.
–§–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –ø—É—Ç–∏:

php-template
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
C:\Users\<User>\AppData\LocalLow\<CompanyName>\<ProjectName>\inventory.json
–∏–ª–∏ –≤ Unity —á–µ—Ä–µ–∑ Application.persistentDataPath.

–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ InventorySaveSystem.LoadInventory().

üîç –ù–∞ —á—Ç–æ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: —á—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ Model / View / Controller.

–°–æ–±—ã—Ç–∏—è: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ OnInventoryChanged.

–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–ø–∏—Å–æ–∫ –±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: IInventoryManager –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–æ–¥–º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ç–µ–≤–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å).

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: JSON-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è, –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –æ—Ç —Å—Ü–µ–Ω—ã.

üß± –ü—Ä–∏–º–µ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
Player Action ‚Üí InventorySlot ‚Üí InventoryController ‚Üí InventoryManager
                                          ‚Üì
                                    InventoryUI.Refresh
                                          ‚Üì
                                    InventoryTooltip / ItemPreview
